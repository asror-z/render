<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" src="/publish/yarner/sweetalert2/dist/sweetalert2.css">


    <script src="/publish/yarner/jquery/dist/jquery.min.js"></script>
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/maps.js"></script>
    <script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    <script src="/publish/yarner/sweetalert2/dist/sweetalert2.all.js"></script>


    <style>
        #chartdiv{
         width: 100%;
         height: 500px;
        }
    </style>
</head>
<body>
      <div id="chartdiv"></div>




<script>
    jQuery(function ($) {
    am4core.ready(function() {

// theme begin
        am4core.useTheme(am4themes_animated);
// theme end

// Create map instance
        var chart = am4core.create("chartdiv", am4maps.MapChart);

// Set map definition
        chart.geodata = am4geodata_worldLow;

// Set projection
        chart.projection = new am4maps.projections.Miller();
        chart.panBehavior = "rotateLongLat";

        var grid = chart.series.push(new am4maps.GraticuleSeries());
        grid.toBack();

// Create map polygon series
        var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());


// Make map load polygon (like country names) data from GeoJSON

        polygonSeries.useGeodata = true;
        polygonSeries.mapPolygons.template.nonScalingStroke = true;
        polygonSeries.mapPolygons.template.strokeOpacity = 0.5;


// Configure series
        var polygonTemplate = polygonSeries.mapPolygons.template;
        polygonTemplate.tooltipText = "{name}";
        polygonTemplate.properties.fill = am4core.color(mapcol);
        console.log(polygonTemplate.properties.fill);
        polygonSeries.propertyFields.fill = "color";
        


        polygonTemplate.events.on("hit", function(ev){
            var nameCountry = ev.target.dataItem.dataContext.name;
            var idCountry = ev.target.dataItem.dataContext.id;

            console.log(colorCountry)
            console.log(idCountry);
            var count = data[idCountry]

            console.log(nameCountry);
            Swal.fire({
                icon: 'info',
                title: nameCountry,
                text: "count of people"+" "+count,
            })
        })
// Create hover state and set alternative fill color
        var cs = polygonTemplate.mapPolygons("color");
        var colorMap = cs.properties.fill;
        cs.colorMap = "#006600";

        var hs = polygonTemplate.states.create("hover");
        hs.properties.fill = chart.colors.getIndex(9).brighten(-0.5);

        let linkContainer = chart.createChild(am4core.Container);
        linkContainer.isMeasured = false;
        linkContainer.layout = "horizontal";
        linkContainer.x = am4core.percent(50);
        linkContainer.y = am4core.percent(90);
        linkContainer.horizontalCenter = "middle";

        let equirectangular= linkContainer.createChild(am4core.TextLink);
        equirectangular.margin(10,10,10,10);
        equirectangular.text = "Equirectangular";
        equirectangular.events.on("hit", function(){
            chart.projection = new am4maps.projections.Projection();
        })

        let mercator = linkContainer.createChild(am4core.TextLink);
        mercator.text = "Mercator";
        mercator.margin(10,10,10,10);
        mercator.events.on("hit", function(){
            chart.projection = new am4maps.projections.Mercator();
        })

        let miller = linkContainer.createChild(am4core.TextLink);
        miller.margin(10,10,10,10);
        miller.text = "Miller";
        miller.events.on("hit", function(){
            chart.projection = new am4maps.projections.Miller();
        })

        let eckert = linkContainer.createChild(am4core.TextLink);
        eckert.margin(10,10,10,10);
        eckert.text = "Eckert 6";
        eckert.events.on("hit", function(){
            chart.projection = new am4maps.projections.Eckert6();
        })

        let orthographic = linkContainer.createChild(am4core.TextLink);
        orthographic.margin(10,10,10,10);
        orthographic.text = "Orthographic";
        orthographic.events.on("hit", function(){
            chart.projection = new am4maps.projections.Orthographic();
        })
        var data = {
            "UZ": 100,
            "AD": 100,
            "AE": 100,
            "AF": 100,
            "AG": 100,
            "AI": 100,
            "AL": 100,
            "AM": 100,
            "AO": 100,
            "AQ": 100,
            "AR": 100,
            "AS": 100,
            "AT": 100,
            "AU": 100,
            "AW": 100,
            "AX": 100,
            "AZ": 100,
            "BA": 100,
            "BB": 100,
            "BD": 100,
            "BE": 100,
            "BF": 100,
            "BG": 100,
            "BH": 100,
            "BI": 100,
            "BJ": 100,
            "BL": 100,
            "BM": 100,
            "BN": 100,
            "BO": 100,
            "BQ": 100,
            "BR": 100,
            "BS": 100,
            "BT": 100,
            "BV": 100,
            "BW": 100,
            "BY": 100,
            "BZ": 100,
            "CA": 100,
            "CC": 100,
            "CD": 100,
            "CF": 100,
            "CG": 100,
            "CH": 100,
            "CI": 100,
            "CK": 100,
            "CL": 100,
            "CM": 100,
            "CN": 100,
            "CO": 100,
            "CR": 100,
            "CU": 100,
            "CV": 100,
            "CW": 100,
            "CX": 100,
            "CY": 100,
            "CZ": 100,
            "DE": 100,
            "DJ": 100,
            "DK": 100,
            "DM": 100,
            "DO": 100,
            "DZ": 100,
            "EC": 100,
            "EE": 100,
            "EG": 100,
            "EH": 100,
            "ER": 100,
            "ES": 100,
            "ET": 100,
            "FI": 100,
            "FJ": 100,
            "FK": 100,
            "FM": 100,
            "FO": 100,
            "FR": 100,
            "GA": 100,
            "GB": 100,
            "GB-CHA": 100,
            "GD": 100,
            "GE": 100,
            "GF": 100,
            "GG": 100,
            "GH": 100,
            "GI": 100,
            "GL": 100,
            "GM": 100,
            "GN": 100,
            "GP": 100,
            "GQ": 100,
            "GR": 100,
            "GS": 100,
            "GT": 100,
            "GU": 100,
            "GW": 100,
            "GY": 100,
            "HK": 100,
            "HM": 100,
            "HN": 100,
            "HR": 100,
            "HT": 100,
            "HU": 100,
            "ID": 100,
            "IE": 100,
            "IL": 100,
            "IM": 100,
            "IN": 100,
            "IO": 100,
            "IQ": 100,
            "IR": 100,
            "IS": 100,
            "IT": 100,
            "JE": 100,
            "JM": 100,
            "JO": 100,
            "JP": 100,
            "KE": 100,
            "KG": 100,
            "KH": 100,
            "KI": 100,
            "KM": 100,
            "KN": 100,
            "KP": 100,
            "KR": 100,
            "KT": 100,
            "KW": 100,
            "KY": 100,
            "KZ": 100,
            "LA": 100,
            "LB": 100,
            "LC": 100,
            "LI": 100,
            "LK": 100,
            "LR": 100,
            "LS": 100,
            "LT": 100,
            "LU": 100,
            "LV": 100,
            "LY": 100,
            "MA": 100,
            "MC": 100,
            "MD": 100,
            "ME": 100,
            "MF": 100,
            "MG": 100,
            "MH": 100,
            "MK": 100,
            "ML": 100,
            "MM": 100,
            "MN": 100,
            "MO": 100,
            "MP": 100,
            "MQ": 100,
            "MR": 100,
            "MS": 100,
            "MT": 100,
            "MU": 100,
            "MV": 100,
            "MW": 100,
            "MX": 100,
            "MY": 100,
            "MZ": 100,
            "NA": 100,
            "NC": 100,
            "NE": 100,
            "NF": 100,
            "NG": 100,
            "NI": 100,
            "NL": 100,
            "NO": 100,
            "NP": 100,
            "NR": 100,
            "NU": 100,
            "NZ": 100,
            "OM": 100,
            "PA": 100,
            "PE": 100,
            "PF": 100,
            "PG": 100,
            "PH": 100,
            "PK": 100,
            "PL": 100,
            "PM": 100,
            "PN": 100,
            "PR": 100,
            "PS": 100,
            "PT": 100,
            "PW": 100,
            "PY": 100,
            "QA": 100,
            "RE": 100,
            "RO": 100,
            "RS": 100,
            "RU": 100,
            "RW": 100,
            "SA": 100,
            "SB": 100,
            "SC": 100,
            "SD": 100,
            "SE": 100,
            "SG": 100,
            "SH": 100,
            "SI": 100,
            "SJ": 100,
            "SK": 100,
            "SL": 100,
            "SM": 100,
            "SN": 100,
            "SO": 100,
            "SR": 100,
            "SS": 100,
            "ST": 100,
            "SV": 100,
            "SX": 100,
            "SY": 100,
            "SZ": 100,
            "TC": 100,
            "TD": 100,
            "TF": 100,
            "TG": 100,
            "TH": 100,
            "TJ": 100,
            "TK": 100,
            "TL": 100,
            "TM": 100,
            "TN": 100,
            "TO": 100,
            "TR": 100,
            "TT": 100,
            "TV": 100,
            "TW": 100,
            "TZ": 100,
            "UA": 100,
            "UG": 100,
            "UM": 100,
            "US": 100,
            "UY": 100,
            "VA": 100,
            "VC": 100,
            "VE": 100,
            "VG": 100,
            "VI": 100,
            "VN": 100,
            "VU": 100,
            "WF": 100,
            "WS": 100,
            "YE": 100,
            "YT": 100,
            "ZA": 100,
            "ZM": 100,
            "ZW": 100,
            "XK": 100,
            "isCircle": 0,
            "isCircleFill": 0
        };
        var mapcol = {
            "RU" : "#006600",
        };
    });
    });
</script> 
</body>
</html>
