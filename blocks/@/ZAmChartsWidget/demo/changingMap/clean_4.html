<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" src="/publish/yarner/sweetalert2/dist/sweetalert2.css">


    <script src="/publish/yarner/jquery/dist/jquery.min.js"></script>
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/maps.js"></script>
    <script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    <script src="/publish/yarner/sweetalert2/dist/sweetalert2.all.js"></script>


    <style>
        #chartdiv{
            width: 100%;
            height: 500px;
        }
    </style>
</head>
<body>
<div id="chartdiv"></div>




<script>
    jQuery(function ($) {
        am4core.ready(function() {

// theme begin
            am4core.useTheme(am4themes_animated);
// theme end

// Create map instance
            var chart = am4core.create("chartdiv", am4maps.MapChart);

// Set map definition
            chart.geodata = am4geodata_worldLow;

// Set projection
            chart.projection = new am4maps.projections.Miller();
            
            

            

// Create map polygon series
            var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());
            polygonSeries.appeared = false;
            polygonSeries.applyOnClones = false;
            polygonSeries.autoDispose = false;
            polygonSeries.calculatePercent = false;
            polygonSeries.calculateVisualCenter = false;
            polygonSeries.clickable = true;
            polygonSeries.contextMenuDisabled = false;
            polygonSeries.disabled = false;
            polygonSeries.draggable = false;
            polygonSeries.exportable = false;
            polygonSeries.fixedWidthGrid = false;
            polygonSeries.hasFocused = false;
            polygonSeries.hidden = false;
            polygonSeries.hoverOnFocus = true;
            polygonSeries.hoverable = false;
            polygonSeries.ignoreBounds = false;
            polygonSeries.ignoreMinMax = false;
            polygonSeries.inert = false;
            polygonSeries.inited = true;
            polygonSeries.interactionsEnabled = true;
            polygonSeries.isActive = true;
            polygonSeries.isDown = true;
            polygonSeries.isDragged = true;
            polygonSeries.isFocused = true;
            polygonSeries.isHover = true;
            polygonSeries.isResized = true;
            polygonSeries.isShowing = false;
            polygonSeries.layoutInvalid = false;
            polygonSeries.measureFailed = false;
            polygonSeries.pixelPerfect = true;
            polygonSeries.resizable = true;
            polygonSeries.rtl = false;
            polygonSeries.sequencedInterpolation = true;
            polygonSeries.setStateOnChildren = true;
            polygonSeries.shouldClone = false;
            polygonSeries.showOnInit = true;
            polygonSeries.showSystemTooltip = true;
            polygonSeries.simplifiedProcessing = false;
            polygonSeries.skipRangeEvent = true;
            polygonSeries.tapToActivate = false;
            polygonSeries.togglable = false;
            polygonSeries.trackable = false;
            polygonSeries.visible = true;
            polygonSeries.wheelable = true;



            

// Make map load polygon (like country names) data from GeoJSON

            polygonSeries.useGeodata = true;
            polygonSeries.mapPolygons.template.nonScalingStroke = true;
            polygonSeries.mapPolygons.template.strokeOpacity = 0.5;
            polygonSeries.data = [
            {
            "id": "US",
            "value": 100,
            "fill": am4core.color("#F05C5C")
            }, 
            {
            "id": "FR",
            "value": 50,
            "fill": am4core.color("#5C5CFF")
            }, 
            {
            "id": "RU",
            "value": 200,
            "fill": am4core.color("red")
            },
            {
            "id": "CA",
            "value": 200,
            "fill": am4core.color("blue")
            },
            {
            "id": "UZ",
            "value": 200,
            "fill": am4core.color("green")
            },
            {
            "id": "AQ",
            "value": 200,
            "fill": am4core.color("blue")
            },
            ];



// Configure series
            var polygonTemplate = polygonSeries.mapPolygons.template;
            polygonTemplate.tooltipText = "{name}";
            polygonTemplate.tooltipText = "{name} : \r\n {value}";
            polygonTemplate.propertyFields.fill = "fill";
           
            polygonTemplate.events.on("hit", function(ev){
                var nameCountry = ev.target.dataItem.dataContext.name;
                var idCountry = ev.target.dataItem.dataContext.id;
                var count = ev.target.dataItem.dataContext.value;
               
                Swal.fire({
                    icon: 'info',
                    title: nameCountry,
                    text: "count of people"+" "+ count,
                })
            })
// Create hover state and set alternative fill color


            

            let linkContainer = chart.createChild(am4core.Container);
            linkContainer.isMeasured = false;
            linkContainer.layout = "horizontal";
            linkContainer.x = am4core.percent(50);
            linkContainer.y = am4core.percent(90);
            linkContainer.horizontalCenter = "middle";

            let equirectangular= linkContainer.createChild(am4core.TextLink);
            equirectangular.margin(10,10,10,10);
            equirectangular.text = "Equirectangular";
            equirectangular.events.on("hit", function(){
                chart.projection = new am4maps.projections.Projection();
            })

            let mercator = linkContainer.createChild(am4core.TextLink);
            mercator.text = "Mercator";
            mercator.margin(10,10,10,10);
            mercator.events.on("hit", function(){
                chart.projection = new am4maps.projections.Mercator();
            })

            let miller = linkContainer.createChild(am4core.TextLink);
            miller.margin(10,10,10,10);
            miller.text = "Miller";
            miller.events.on("hit", function(){
                chart.projection = new am4maps.projections.Miller();
            })

            let eckert = linkContainer.createChild(am4core.TextLink);
            eckert.margin(10,10,10,10);
            eckert.text = "Eckert 6";
            eckert.events.on("hit", function(){
                chart.projection = new am4maps.projections.Eckert6();
            })

            let orthographic = linkContainer.createChild(am4core.TextLink);
            orthographic.margin(10,10,10,10);
            orthographic.text = "Orthographic";
            orthographic.events.on("hit", function(){
                chart.projection = new am4maps.projections.Orthographic();
                chart.panBehavior = "rotateLongLat";
            })
        });
    });
</script>
</body>
</html>
