<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax form</title>
</head>
<body>
    <form id="myForm" action="ajax.php" method="post">
    Name: <input type="text" name="name" /><br>
    Comment: <textarea name="comment"></textarea><br><br>
    <input name = "submit" type="submit" value="Submit Comment" />
</form>


<script>
    const defaults = {
        target: '#myResultsDiv',
        url: '',
        type: 'POST', //'GET', 'PUT'
        beforeSerialize: function($form, options) {
            console.log('ZAjaxForm | beforeSerialize');
        },
        beforeSubmit: function($form, options) {
            console.log('ZAjaxForm | beforeSubmit');
        },
        delegation: true,
        filtering: 'function',
        clearForm: null,
        data: {},           //{key: 'value'},
        dataType: null, //'json', 'xml', 'script'
        forceSync: false,
        iframe: false,
        iframeSrc: 'about:blank',
        iframeTarget: null, // fileUpload uchun
        replaceTarget: false,
        resetForm: null,
        semantic: false,
        success: null,
        uploadProgress: null,
    };
    
    // wait for the DOM to be loaded
    $(document).ready(function() {
        // bind 'myForm' and provide a simple callback function
        $('#myForm').ajaxForm(function() {
            alert("Thank you for your comment!");
        });
    });
    // prepare the form when the DOM is ready
    $(document).ready(function() {
        var options = {
            target:        '#output1',   // target element(s) to be updated with server response
            beforeSubmit: function(arr, $form, options) {
            // The array of form data takes the following form:
            // [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]

            // return false to cancel submit
        },  // pre-submit callback
            success:  function() {
                console.log();
            },

            // other available options:
            url:       'action',         // override for form's 'action' attribute
            type:      'method' ,       // 'get' or 'post', override for form's 'method' attribute
            dataType:  'null',        // 'xml', 'script', or 'json' (expected server response type)
            clearForm: 'true',        // clear all form fields after successful submit
            resetForm: 'true',        // reset the form after successful submit
            timeout:   3000
        };

        // bind form using 'ajaxForm'
        $('#myForm1').ajaxForm(options);
    });

    // pre-submit callback
    function showRequest(formData, jqForm, options) {
        // formData is an array; here we use $.param to convert it to a string to display it
        // but the form plugin does this for you automatically when it submits the data
        var queryString = $.param(formData);

        // jqForm is a jQuery object encapsulating the form element.  To access the
        // DOM element for the form do this:
        // var formElement = jqForm[0];

        alert('About to submit: \n\n' + queryString);

        // here we could return false to prevent the form from being submitted;
        // returning anything other than false will allow the form submit to continue
        return true;
    }

    // post-submit callback
    function showResponse(responseText, statusText, xhr, $form) {
        // for normal html responses, the first argument to the success callback
        // is the XMLHttpRequest object's responseText property

        // if the ajaxForm method was passed an Options Object with the dataType
        // property set to 'xml' then the first argument to the success callback
        // is the XMLHttpRequest object's responseXML property

        // if the ajaxForm method was passed an Options Object with the dataType
        // property set to 'json' then the first argument to the success callback
        // is the json data object returned by the server

        alert('status: ' + statusText + '\n\nresponseText: \n' + responseText +
            '\n\nThe output div should have already been updated with the responseText.');

    }
</script>
</body>
</html>
